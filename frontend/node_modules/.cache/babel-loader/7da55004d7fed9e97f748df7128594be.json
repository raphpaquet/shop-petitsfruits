{"ast":null,"code":"import _slicedToArray from\"/Users/raphaellepaquet/lighthouse/shop-petitsfruits/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{BrowserRouter,Link,Route}from\"react-router-dom\";import{listProductCategories}from\"./actions/productActions\";import{signout}from\"./actions/userActions\";import AdminRoute from\"./components/AdminRoute\";import LoadingBox from\"./components/LoadingBox\";import MessageBox from\"./components/MessageBox\";import PrivateRoute from\"./components/PrivateRoute\";// import SearchBox from \"./components/SearchBox\";\nimport CartScreen from\"./screens/CartScreen\";import ShopScreen from\"./screens/ShopScreen\";import OrderDetailsScreen from\"./screens/OrderDetailsScreen\";import OrderHistoryScreen from\"./screens/OrderHistoryScreen\";import OrderListScreen from\"./screens/OrderListScreen\";import PaymentMethodScreen from\"./screens/PaymentMethodScreen\";import PlaceOrderScreen from\"./screens/PlaceOrderScreen\";import ProductEditScreen from\"./screens/ProductEditScreen\";import ProductListScreen from\"./screens/ProductListScreen\";import ProductScreen from\"./screens/ProductScreen\";import ProfileScreen from\"./screens/ProfileScreen\";import RegisterUserScreen from\"./screens/RegisterUserScreen\";import SearchScreen from\"./screens/SearchScreen\";import ShippingAddressScreen from\"./screens/ShippingAddressScreen\";import SigninScreen from\"./screens/SigninScreen\";import UserEditScreen from\"./screens/UserEditScreen\";import UserListScreen from\"./screens/UserListScreen\";import HomeScreen from\"./screens/HomeScreen\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sidebarIsOpen=_useState2[0],setSidebarIsOpen=_useState2[1];var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var userSignin=useSelector(function(state){return state.userSignin;});var userInfo=userSignin.userInfo;var dispatch=useDispatch();var signoutHandler=function signoutHandler(){dispatch(signout());};var productCategoryList=useSelector(function(state){return state.productCategoryList;});var loadingCategories=productCategoryList.loading,errorCategories=productCategoryList.error,categories=productCategoryList.categories;useEffect(function(){dispatch(listProductCategories());},[dispatch]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"row margin-side\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"open-sidebar\",onClick:function onClick(){return setSidebarIsOpen(true);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-bars\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",alt:\"logo petitsfruits\",className:\"logo\"}),/*#__PURE__*/_jsx(Link,{className:\"brand\",to:\"/\",children:\"petitsfruits\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",children:[\"Panier\",cartItems.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:cartItems.length})]}),userInfo?/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#\",children:[userInfo.name,\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-caret-down\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/orderhistory\",children:\"Commandes\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"#signout\",onClick:signoutHandler,children:\"D\\xE9connexion\"})})]})]}):/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Connexion\"}),userInfo&&userInfo.isAdmin&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#admin\",children:[\"Admin \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-caret-down\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/productlist\",children:\"Produits\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/orderlist\",children:\"Commandes\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/userlist\",children:\"Usagers\"})})]})]})]})]}),/*#__PURE__*/_jsx(\"aside\",{className:sidebarIsOpen?\"open\":\"\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"categories\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo_blanc.png\",alt:\"logo petitsfruits blanc\",className:\"small center\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSidebarIsOpen(false);},className:\"close-sidebar\",type:\"button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-close\"})})]}),/*#__PURE__*/_jsx(\"li\",{style:{cursor:\"default\"},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Cat\\xE9gories\"})}),loadingCategories?/*#__PURE__*/_jsx(LoadingBox,{}):errorCategories?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorCategories}):categories.map(function(c){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/search/category/\".concat(c),onClick:function onClick(){return setSidebarIsOpen(false);},children:c})},c);})]})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Route,{path:\"/cart/:id?\",component:CartScreen}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",component:ProductScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id/edit\",component:ProductEditScreen}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",component:SigninScreen}),/*#__PURE__*/_jsx(Route,{path:\"/register\",component:RegisterUserScreen}),/*#__PURE__*/_jsx(Route,{path:\"/shipping\",component:ShippingAddressScreen}),/*#__PURE__*/_jsx(Route,{path:\"/payment\",component:PaymentMethodScreen}),/*#__PURE__*/_jsx(Route,{path:\"/placeOrder\",component:PlaceOrderScreen}),/*#__PURE__*/_jsx(Route,{path:\"/order/:id\",component:OrderDetailsScreen}),/*#__PURE__*/_jsx(Route,{path:\"/orderhistory\",component:OrderHistoryScreen}),/*#__PURE__*/_jsx(Route,{path:\"/search/name/:name?\",component:SearchScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/search/category/:category\",component:SearchScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/search/pageNumber/:pageNumber\",component:ProductListScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/search/category/:category/name/:name/min/:min/max/:max/order/:order/pageNumber/:pageNumber\",component:SearchScreen,exact:true}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/profile\",component:ProfileScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/productlist\",component:ProductListScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/orderlist\",component:OrderListScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/userlist\",component:UserListScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/user/:id/edit\",component:UserEditScreen}),/*#__PURE__*/_jsx(Route,{path:\"/shop\",component:ShopScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/\",component:HomeScreen,exact:true})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"row center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"social\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://www.facebook.com/petitsfruitsillustration/\",target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-facebook-f\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.instagram.com/petitsfruits_/\",target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-instagram\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:\"RP & Petitsfruits | Tous Droits R\\xE9serv\\xE9s\"})]})]})});}export default App;","map":{"version":3,"sources":["/Users/raphaellepaquet/lighthouse/shop-petitsfruits/frontend/src/App.js"],"names":["useEffect","useState","useDispatch","useSelector","BrowserRouter","Link","Route","listProductCategories","signout","AdminRoute","LoadingBox","MessageBox","PrivateRoute","CartScreen","ShopScreen","OrderDetailsScreen","OrderHistoryScreen","OrderListScreen","PaymentMethodScreen","PlaceOrderScreen","ProductEditScreen","ProductListScreen","ProductScreen","ProfileScreen","RegisterUserScreen","SearchScreen","ShippingAddressScreen","SigninScreen","UserEditScreen","UserListScreen","HomeScreen","App","props","sidebarIsOpen","setSidebarIsOpen","cart","state","cartItems","userSignin","userInfo","dispatch","signoutHandler","productCategoryList","loadingCategories","loading","errorCategories","error","categories","length","name","isAdmin","cursor","map","c"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BrowserRouter, Link, Route } from \"react-router-dom\";\nimport { listProductCategories } from \"./actions/productActions\";\nimport { signout } from \"./actions/userActions\";\nimport AdminRoute from \"./components/AdminRoute\";\nimport LoadingBox from \"./components/LoadingBox\";\nimport MessageBox from \"./components/MessageBox\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n// import SearchBox from \"./components/SearchBox\";\nimport CartScreen from \"./screens/CartScreen\";\nimport ShopScreen from \"./screens/ShopScreen\";\nimport OrderDetailsScreen from \"./screens/OrderDetailsScreen\";\nimport OrderHistoryScreen from \"./screens/OrderHistoryScreen\";\nimport OrderListScreen from \"./screens/OrderListScreen\";\nimport PaymentMethodScreen from \"./screens/PaymentMethodScreen\";\nimport PlaceOrderScreen from \"./screens/PlaceOrderScreen\";\nimport ProductEditScreen from \"./screens/ProductEditScreen\";\nimport ProductListScreen from \"./screens/ProductListScreen\";\nimport ProductScreen from \"./screens/ProductScreen\";\nimport ProfileScreen from \"./screens/ProfileScreen\";\nimport RegisterUserScreen from \"./screens/RegisterUserScreen\";\nimport SearchScreen from \"./screens/SearchScreen\";\nimport ShippingAddressScreen from \"./screens/ShippingAddressScreen\";\nimport SigninScreen from \"./screens/SigninScreen\";\nimport UserEditScreen from \"./screens/UserEditScreen\";\nimport UserListScreen from \"./screens/UserListScreen\";\nimport HomeScreen from \"./screens/HomeScreen\";\n\nfunction App(props) {\n  const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\n  const cart = useSelector((state) => state.cart);\n  const { cartItems } = cart;\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const dispatch = useDispatch();\n  const signoutHandler = () => {\n    dispatch(signout());\n  };\n\n  const productCategoryList = useSelector((state) => state.productCategoryList);\n  const {\n    loading: loadingCategories,\n    error: errorCategories,\n    categories,\n  } = productCategoryList;\n  useEffect(() => {\n    dispatch(listProductCategories());\n  }, [dispatch]);\n\n\n  return (\n    <BrowserRouter>\n      <div className=\"grid-container\">\n        <header className=\"row margin-side\">\n          <div>\n            <button\n              type=\"button\"\n              className=\"open-sidebar\"\n              onClick={() => setSidebarIsOpen(true)}\n            >\n              <i className=\"fa fa-bars\"></i>\n            </button>\n          </div>\n          <div>\n            <img\n              src=\"/images/logo.png\"\n              alt=\"logo petitsfruits\"\n              className=\"logo\"\n            />\n            <Link className=\"brand\" to=\"/\">\n              petitsfruits\n            </Link>\n          </div>\n          <div>\n            <Link to=\"/cart\">\n              Panier\n              {cartItems.length > 0 && (\n                <span className=\"badge\">{cartItems.length}</span>\n              )}\n            </Link>\n            {/* {userInfo && !userInfo.email === 'paquetraphaelle@gmail.com' ? ( */}\n            { userInfo ? ( \n              <div className=\"dropdown\">\n                <Link to=\"#\">\n                  {userInfo.name} <i className=\"fa fa-caret-down\"></i>\n                </Link>\n                <ul className=\"dropdown-content\">\n                  <li>\n                    <Link to=\"/profile\">Profile</Link>\n                  </li>\n                  <li>\n                    <Link to=\"/orderhistory\">Commandes</Link>\n                  </li>\n                  <li>\n                    <Link to=\"#signout\" onClick={signoutHandler}>\n                      Déconnexion\n                    </Link>\n                  </li>\n                </ul>\n              </div>\n            ) : ( \n              <Link to=\"/signin\">Connexion</Link>\n             )} \n            {userInfo && userInfo.isAdmin && (\n              <div className=\"dropdown\">\n                <Link to=\"#admin\">\n                  Admin <i className=\"fa fa-caret-down\"></i>\n                </Link>\n                <ul className=\"dropdown-content\">\n                  <li>\n                    <Link to=\"/productlist\">Produits</Link>\n                  </li>\n                  <li>\n                    <Link to=\"/orderlist\">Commandes</Link>\n                  </li>\n                  <li>\n                    <Link to=\"/userlist\">Usagers</Link>\n                  </li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </header>\n        <aside className={sidebarIsOpen ? \"open\" : \"\"}>\n          <ul className=\"categories\">\n            <li>\n              <img src=\"/images/logo_blanc.png\" alt=\"logo petitsfruits blanc\" className=\"small center\"/>\n              <button\n                onClick={() => setSidebarIsOpen(false)}\n                className=\"close-sidebar\"\n                type=\"button\"\n                >\n                <i className=\"fa fa-close\"></i>\n              </button>\n            </li>\n            <li style={{cursor:\"default\"}}>\n                <strong>Catégories</strong>\n            </li>\n            {loadingCategories ? (\n              <LoadingBox></LoadingBox>\n            ) : errorCategories ? (\n              <MessageBox variant=\"danger\">{errorCategories}</MessageBox>\n            ) : (\n              categories.map((c) => (\n                <li key={c}>\n                  <Link\n                    to={`/search/category/${c}`}\n                    onClick={() => setSidebarIsOpen(false)}\n                  >\n                    {c}\n                  </Link>\n                </li>\n              ))\n            )}\n          </ul>\n        </aside>\n        <main>\n          <Route path=\"/cart/:id?\" component={CartScreen} />\n          <Route path=\"/product/:id\" component={ProductScreen} exact />\n          <Route path=\"/product/:id/edit\" component={ProductEditScreen} />\n          <Route path=\"/signin\" component={SigninScreen} />\n          <Route path=\"/register\" component={RegisterUserScreen} />\n          <Route path=\"/shipping\" component={ShippingAddressScreen} />\n          <Route path=\"/payment\" component={PaymentMethodScreen} />\n          <Route path=\"/placeOrder\" component={PlaceOrderScreen} />\n          <Route path=\"/order/:id\" component={OrderDetailsScreen} />\n          <Route path=\"/orderhistory\" component={OrderHistoryScreen} />\n          <Route path=\"/search/name/:name?\" component={SearchScreen} exact />\n          <Route\n            path=\"/search/category/:category\"\n            component={SearchScreen}\n            exact\n          />\n          <Route\n            path=\"/search/pageNumber/:pageNumber\"\n            component={ProductListScreen}\n            exact\n          />\n          <Route\n            path=\"/search/category/:category/name/:name/min/:min/max/:max/order/:order/pageNumber/:pageNumber\"\n            component={SearchScreen}\n            exact\n          />\n          <PrivateRoute path=\"/profile\" component={ProfileScreen} />\n          <AdminRoute path=\"/productlist\" component={ProductListScreen} />\n          <AdminRoute path=\"/orderlist\" component={OrderListScreen} />\n          <AdminRoute path=\"/userlist\" component={UserListScreen} />\n          <AdminRoute path=\"/user/:id/edit\" component={UserEditScreen} />\n          <Route path=\"/shop\" component={ShopScreen} exact />\n          <Route path=\"/\" component={HomeScreen} exact />\n        </main>\n        <footer className=\"row center\">\n          <div className=\"social\">\n            <a\n              href=\"https://www.facebook.com/petitsfruitsillustration/\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <i className=\"fa fa-facebook-f\"></i>\n            </a>\n            <a\n              href=\"https://www.instagram.com/petitsfruits_/\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <i className=\"fa fa-instagram\"></i>\n            </a>\n          </div>\n          <div>RP & Petitsfruits | Tous Droits Réservés</div>\n        </footer>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}